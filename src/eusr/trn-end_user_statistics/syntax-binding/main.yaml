metadata:
  namespaces:
    eur: urn:fdc:peppol:end-user-report:1.0
    ## This is the XML schema for the Peppol End User Reporting.
    ## This is based on the "Internal Regulations" document,
    ##   chapter 4.3 "Service Provider Reporting about End Users"
content:
  element: eur:EndUserReport
  name: Root element
  definition: The root element of the End User Report
  cardinality: 1..1
  children:
  - element: eur:CustomizationID
    reference: ERBT-001

  - element: eur:ProfileID
    reference: ERBT-002

  - element: eur:Header
    reference: ERBG-1
    children:

    - element: eur:ReportPeriod
      reference: ERBT-003

    - element: eur:ReporterID
      reference: ERBT-004
      attribute:

      - element: schemeID
        reference: ERBT-005

  - element: eur:Total
    reference: ERBG-2
    children:
      - element: eur:SendingEndUsers
        reference: ERBT-006

      - element: eur:ReceivingEndUsers
        reference: ERBT-007

  - element: eur:Subtotal
    reference: ERBG-3
    attribute:
      - element: type
        reference: ERBT-008

    children:
      - element: eur:Key
        # TODO: can PDK reference two? Shouldn't ERBG-4 be preferred on ERBT-011
        reference: ERBT-011
        # Also reference: ERBG-4
        attribute:
          - element: metaSchemeID
            reference: ERBT-009

          - element: schemeID
            reference: ERBT-010
      - element: eur:SendingEndUsers
        reference: ERBT-012
      - element: eur:ReceivingEndUsers
        reference: ERBT-013

