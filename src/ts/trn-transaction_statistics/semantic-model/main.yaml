content:
  - id: IBT-001
    name: Customization ID
    definition: Identifies a customization of this format for a specific use.
    cardinality: 1..1
    datatype:
      value: Identifier

  - id: IBG-1
    name: Report Header
    definition: Transaction Statistics header metadata.
    cardinality: 1..1
    children:
      - id: IBT-002
        name: Report period start date
        definition: The first date (inclusive) of the reporting period.
          Usually the first day of the preceding month.
          E.g. for the first report this may be a different date as well.
        cardinality: 1..1
        datatype:
          value: Date
        
      - id: IBT-003
        name: Report period end date
        definition: The last date (inclusive) of the reporting period.
          Usually the last day of the preceding month.
        cardinality: 1..1
        datatype:
          value: Date

      - id: IBT-004
        name: Reporter identification
        definition: The unique identification of the Service Provider that 
          is providing the data.
        cardinality: 1..1
        datatype:
          value: Identifier
        
      - id: IBT-005
        name: Reporter identification scheme
        definition: This value must follow the "ReporterIDScheme" code list.
          Currently onl "CertSubjectCN" for the Peppol AP Certificate 
          Subject CN (Common Name) is supported.
        cardinality: 1..1
        datatype:
          value: Code
          codelist: ReporterIDScheme

  - id: IBG-2
    name: Total values
    definition: Contains the actual total of exchanged Datasets
    cardinality: 1..1
    children:

      - id: IBT-006
        name: Incoming total
        definition: The total number of received Datasets in the reporting period
        cardinality: 1..1
        datatype:
          value: Count

      - id: IBT-007
        name: Outgoing total
        definition: The total number of sent Datasets in the reporting period
        cardinality: 1..1
        datatype:
          value: Count

  - id: IBG-3
    name: Subtotal values
    definition: Contains the number of exchanged datasets for different aggregations.
       The "type" attribute of this element defines the expected content.
    cardinality: 0..n
    children:

      - id: IBT-008
        name: Subtotal type
        definition: Defines the expected Key elements and their meta schemes.
          The codelist for this field is "SubtotalType"
        cardinality: 1..1
        datatype:
          value: Code
          codelist: SubtotalType
          
        # Note: IBG-4 is not referenced from the syntax model and that is fine          
      - id: IBG-4
        name: Subtotal key
        definition: Defines the keys, depending on the chosen Subtotal Type
        cardinality: 1..n
        children:
          
          - id: IBT-009
            name: Meta scheme identifier
            definition: Defines the meta scheme identifier of this subtotal key
              Must follow the "SubtotalKeyMetaScheme" code list
            cardinality: 1..1
            value:
              datatype: Code
              codelist: SubtotalKeyMetaScheme
              
          - id: IBT-010
            name: Scheme identifier
            definition: Defines the scheme identifier, depending on the Meta scheme
              identifier.
            cardinality: 1..1
            datatype:
              value: Identifier
              
          - id: IBT-011
            name: Identifier value
            definition: Defines the main identifier value following the Scheme identifier.
            cardinality: 1..1
            datatype:
              value: Identifier

      - id: IBT-012
        name: Incoming subtotal
        definition: The number of received Datasets in the reporting period matching this subtotal
        cardinality: 1..1
        datatype:
          value: Count

      - id: IBT-013
        name: Outgoing subtotal
        definition: The total number of sent Datasets in the reporting period matching this subtotal
        cardinality: 1..1
        datatype:
          value: Count
