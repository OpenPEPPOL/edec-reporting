= Rules
Transaction Statistics Reporting process rules

.Business rules
[cols="1h,5,1",options="header"]
|====

|RuleID
|Requirement (depending, as applicable, on the respective business case)
|Validation Level

| BR-TSR-01
| The Report MUST contain an identification of the specification it conforms to.
| XSD

| BR-TSR-02
| The Report MUST contain an identification of the business process context it appears in.
| XSD

| BR-TSR-03
| The Report MUST contain the year and the month in which the reported data was gathered.
| XSD

| BR-TSR-04
| The Report MUST not contain timezone information for the Reporting Period.
| SCH-TSR-15

| BR-TSR-05
| The Report MUST uniquely identify the reporting Service Provider.
|

| BR-TSR-06
| The scheme for identifying the reporting Service Provider MUST follow the "Reporter ID Scheme" code list
| SCH-TSR-17

| BR-TSR-07
| If the Reporter ID scheme is set to "CertSubjectCN", the Reporter ID MUST the CN part of the Peppol AP certificate Subject.
| SCH-TSR-18

| BR-TSR-08
| The Report MUST contain the total amount of outgoing / sent Peppol Datasets in the Reporting Period.
| XSD

| BR-TSR-09
| The Report MUST contain the total amount of incoming / received Peppol Datasets in the Reporting Period.
| XSD

| BR-TSR-10
| The Report MUST contain the amount of outgoing / sent and incoming / received Peppol Datasets in the Reporting Period, aggregated by Service Provider ID, if at least one Peppol Dataset was exchanged.
|

| BR-TSR-11
| The sum of all amounts of outgoing / sent Peppol Datasets in the Reporting Period aggregated by Receiving Service Provider ID, MUST match the total amount of outgoing / sent Peppol Datasets.
|

| BR-TSR-12
| The sum of all amounts of incoming / received Peppol Datasets in the Reporting Period aggregated by Sending Service Provider ID, MUST match the total amount of incoming / received Peppol Datasets.
|

| BR-TSR-13
| The Report MUST contain the amount of outgoing / sent and incoming / received Peppol Datasets in the Reporting Period, aggregated by Dataset Type ID, if at least one Peppol Dataset was exchanged.
|

| BR-TSR-14
| The sum of all amounts of outgoing / sent Peppol Datasets in the Reporting Period aggregated by Dataset Type ID, MUST match the total amount of outgoing / sent Peppol Datasets.
|

| BR-TSR-15
| The sum of all amounts of incoming / received Peppol Datasets in the Reporting Period aggregated by Dataset Type ID, MUST match the total amount of incoming / received Peppol Datasets.
|

| BR-TSR-16
| The Report MUST contain the amount of outgoing / sent and incoming / received Peppol Datasets in the Reporting Period, aggregated by Transport Protocol ID, if at least any Peppol Dataset was exchanged.
| SCH-TSR-03

| BR-TSR-17
| The sum of all amounts of outgoing / sent Peppol Datasets in the Reporting Period aggregated by Transport Protocol ID, MUST match the total amount of outgoing / sent Peppol Datasets.
| SCH-TSR-05

| BR-TSR-18
| The sum of all amounts of incoming / received Peppol Datasets in the Reporting Period aggregated by Transport Protocol ID, MUST match the total amount of incoming / received Peppol Datasets.
| SCH-TSR-04

| BR-TSR-19
| Each Transport Protocol ID, for which data is aggregated, MUST NOT occur more than once.
| SCH-TSR-06

| BR-TSR-20
| The Report MUST contain the amount of outgoing / sent and incoming / received Peppol Datasets in the Reporting Period, aggregated by Sender Country ID and Receiver Country ID, if at least any Peppol Dataset was exchanged.
|

| BR-TSR-21
| The sum of all amounts of outgoing / sent Peppol Datasets in the Reporting Period aggregated by Sender Country ID and Receiver Country ID, MUST match the total amount of outgoing / sent Peppol Datasets.
|

| BR-TSR-22
| The sum of all amounts of incoming / received Peppol Datasets in the Reporting Period aggregated by Sender Country ID and Receiver Country ID, MUST match the total amount of incoming / received Peppol Datasets.
|

| BR-TSR-23
| The Report MUST contain the amount of incoming / received Peppol Datasets in the Reporting Period, aggregated by Sending Service Provider ID, Dataset Type ID and Process ID, if at least one Peppol Dataset was exchanged.
| SCH-TSR-07

| BR-TSR-24
| The Report MUST contain the amount of outgoing / sent Peppol Datasets in the Reporting Period, aggregated by Receiving Service Provider ID, Dataset Type ID and Process ID, if at least one Peppol Dataset was exchanged.
| SCH-TSR-07

| BR-TSR-25
| The sum of all amounts of incoming / received Peppol Datasets in the Reporting Period aggregated by Sending Service Provider ID, Dataset Type ID and Process ID, MUST match the total amount of incoming / received Peppol Datasets.
| SCH-TSR-08

| BR-TSR-26
| The sum of all amounts of outgoing / sent Peppol Datasets in the Reporting Period aggregated by Receiving Service Provider ID, Dataset Type ID and Process ID, MUST match the total amount of outgoing / sent Peppol Datasets.
| SCH-TSR-09

| BR-TSR-27
| Each combination of Sending Service Provider ID and Dataset Type ID, for which data is aggregated, MUST NOT occur more than once.
| SCH-TSR-10

| BR-TSR-28
| Each combination of Receiving Service Provider ID and Dataset Type ID, for which data is aggregated, MUST NOT occur more than once.
| SCH-TSR-10

| BR-TSR-29
| The Report MUST contain the amount of incoming / received Peppol Datasets in the Reporting Period, aggregated by Sending Service Provider ID and Dataset Type ID and Sender Country ID and Receiver Country ID, if at least one Peppol Dataset was exchanged.
| SCH-TSR-11

| BR-TSR-30
| The Report MUST contain the amount of outgoing / sent Peppol Datasets in the Reporting Period, aggregated by Receiving Service Provider ID and Dataset Type ID and Sender Country ID and Receiver Country ID, if at least one Peppol Dataset was exchanged.
| SCH-TSR-11

| BR-TSR-31
| The sum of all amounts of incoming / received Peppol Datasets in the Reporting Period aggregated by Sending Service Provider ID and Dataset Type ID and Sender Country ID and Receiver Country ID, MUST match the total amount of incoming / received Peppol Datasets.
| SCH-TSR-12

| BR-TSR-32
| The sum of all amounts of outgoing / sent Peppol Datasets in the Reporting Period aggregated by Receiving Service Provider ID and Dataset Type ID and Sender Country ID and Receiver Country ID, MUST match the total amount of outgoing / sent Peppol Datasets.
| SCH-TSR-13

| BR-TSR-33
| Each combination of Sending Service Provider ID and Dataset Type ID and Sender Country ID and Receiver Country ID, for which data is aggregated, MUST NOT occur more than once.
| SCH-TSR-14

| BR-TSR-34
| Each combination of Receiving Service Provider ID and Dataset Type ID and Sender Country ID and Receiver Country ID, for which data is aggregated, MUST NOT occur more than once.
| SCH-TSR-14

|====
